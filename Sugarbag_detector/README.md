# Sugarbag_detector
–ü—Ä–æ–µ–∫—Ç –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º YOLO –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –º–æ–¥–µ–ª—å—é.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
markdown

```bash
SugarBag_detector/
‚îú‚îÄ‚îÄ model/ # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é YOLO
‚îÇ ‚îú‚îÄ‚îÄ Bag_detector/ # –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ dataset/ # –î–∞—Ç–∞—Å–µ—Ç 
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ runs/ # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è (–≤–µ—Å–∞, –ª–æ–≥–∏, –≥—Ä–∞—Ñ–∏–∫–∏)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ venv/ # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ data.yaml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ download_robolow.py # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Roboflow
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ frame_splitter.py # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ –Ω–∞ –∫–∞–¥—Ä—ã
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Get_frame_by_number.py # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Sugar_detector.py # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ –ø–æ–¥—Å—á–µ—Ç–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ tracker.py # –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ train_model.py # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ yolo11n.pt # –ü—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã–µ –≤–µ—Å–∞ YOLO
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ sugar.png # –ò–∫–æ–Ω–∫–∞ –¥–ª—è –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞
‚îÇ ‚îî‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ WebApp/ # –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Frontend + Backend)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ backend/ # Backend –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ processed/ # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ uploads/ # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª—ã
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ best.pt # –û–±—É—á–µ–Ω–Ω—ã–µ –≤–µ—Å–∞ –º–æ–¥–µ–ª–∏
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Dockerfile # Dockerfile –¥–ª—è –±—ç–∫–µ–Ω–¥–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ main.py # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –±—ç–∫–µ–Ω–¥–∞ (FastAPI)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ sugar.png # –¢–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Sugar_detector.py # –°–∫—Ä–∏–ø—Ç –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞
‚îÇ ‚îú‚îÄ‚îÄ frontend/ # Frontend –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ Dockerfile # Dockerfile –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ index.html # –ì–ª–∞–≤–Ω–∞—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ script.js # JavaScript –ª–æ–≥–∏–∫–∞
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ style.css # –°—Ç–∏–ª–∏ CSS
‚îÇ ‚îú‚îÄ‚îÄ venv/ # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îÇ ‚îî‚îÄ‚îÄ docker-compose.yml # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```
## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone 
cd SugarBag_detector

###2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ (–ü—É–Ω–∫—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –µ—Å–ª–∏ –≤—ã –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –¥–µ–ª–∞—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å)
bash

cd model
python -m venv venv
# Linux/macOS:
source venv/bin/activate
# Windows:
.\venv\Scripts\activate
pip install -r requirements.txt

###3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
bash

cd ../WebApp
python -m venv venv
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
# Linux/macOS: source venv/bin/activate
# Windows: .\venv\Scripts\activate
pip install -r requirements.txt

##üß† –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ YOLO (–ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏–º –æ–±—É—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ)
–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–æ–º–µ—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ–±—É—á–µ–Ω–∏—è –≤ model/Bag_detector/dataset/ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ data.yaml
–ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è
bash

cd model/Bag_detector
python train_model.py

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º–æ–µ –æ–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ YOLO:
bash

yolo task=detect mode=train model=yolo11n.pt data=data.yaml epochs=100 imgsz=640

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª—É—á—à–∏–µ –≤–µ—Å–∞ –∏–∑ model/Bag_detector/runs/train/weights/best.pt –≤ WebApp/best.pt
##üåê –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
###–°–ø–æ—Å–æ–± 1: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)
####–ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ (FastAPI):

cd WebApp
uvicorn main:app --reload --host 0.0.0.0 --port 8000

####–ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

–û—Ç–∫—Ä–æ–π—Ç–µ WebApp/frontend/index.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ live server.
###–°–ø–æ—Å–æ–± 2: –ó–∞–ø—É—Å–∫ —Å Docker
–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:
cd WebApp
docker-compose up --build

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:

    Frontend: http://localhost:80

    Backend API: http://localhost:8000

    API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs

##üéØ API endpoints

    POST /upload/ - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

    GET /results/{filename} - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

    GET /docs - Interactive API documentation (Swagger)

##üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã
–î–µ—Ç–µ–∫—Ü–∏—è –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏

cd WebApp
python Sugar_detector.py --source sugar.png

–î–µ—Ç–µ–∫—Ü–∏—è –Ω–∞ –≤–∏–¥–µ–æ
bash

python Sugar_detector.py --source video.mp4

##üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

    –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

    –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

    –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Detect" –∏–ª–∏ "–û–±–Ω–∞—Ä—É–∂–∏—Ç—å"

    –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø–æ–∫–∞–∂–µ—Ç —Å—Ç–∞—Ç—É—Å)

    –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å bounding boxes

    –°–∫–∞—á–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

##üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
###–ë—ç–∫–µ–Ω–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

    –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ Python 3.9

    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt

    –ö–æ–ø–∏—Ä—É–µ—Ç –≤–µ—Å–∞ –º–æ–¥–µ–ª–∏ –∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

    –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç 8000

###–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

    –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ nginx

    –û–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

    –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç 80